{"ast":null,"code":"import _slicedToArray from \"D:\\\\projects\\\\object-detection\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"D:\\\\projects\\\\object-detection\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"D:\\\\projects\\\\object-detection\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\projects\\\\object-detection\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _createClass from \"D:\\\\projects\\\\object-detection\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"D:\\\\projects\\\\object-detection\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\projects\\\\object-detection\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\projects\\\\object-detection\\\\src\\\\index.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport axios from 'axios'; // import * as mdb from 'mdb-ui-kit'; // lib\n// import { Input } from 'mdb-ui-kit'; // module\n// import MagicDropzone from \"react-magic-dropzone\";\n\nimport \"./styles.css\";\n\nvar tf = require('@tensorflow/tfjs');\n\nvar weights = '/web_model_old/model.json';\nvar headers = {\n  'Content-Type': 'application/json'\n};\nvar names = ['Calculator', 'Cup', 'Ear_Piece', 'GoogleGlass', 'Head_Phone', 'Laptop', 'MobilePhone', 'Notebook', 'Pen', 'Smart_watch', 'Spec', 'SunGlass'];\nvar modelWeight = 640,\n    modelHeight = 640;\n\nvar App = /*#__PURE__*/function (_React$Component) {\n  _inherits(App, _React$Component);\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }]);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.videoRef = React.createRef();\n    _this.canvasRef = React.createRef();\n    _this.state = {\n      model: null,\n      preview: \"\",\n      userid: \"\",\n      proctorid: \"21\",\n      examid: \"\",\n      predictions: []\n    };\n\n    _this.pushToDynamodb = function (predict) {\n      var test = {\n        \"id\": \"\".concat(_this.state.userid, \"_\").concat(_this.state.examid),\n        \"eid\": _this.state.examid,\n        \"cid\": _this.state.userid,\n        \"ts\": predict.timestamp,\n        \"pid\": _this.state.proctorid,\n        \"predict\": JSON.stringify(predict)\n      };\n      axios.post('https://sh3x2x9en3.execute-api.us-east-1.amazonaws.com/test/', test, {\n        headers: headers\n      }).then(function (response) {//console.log(response)\n      }).catch(function (err) {//console.log(err)\n      });\n    };\n\n    _this.checkwithVideo = function () {\n      var videointerval;\n\n      if (videointerval === undefined) {\n        videointerval = setInterval(function () {\n          _this.onImageChange();\n        }, 100);\n      }\n    };\n\n    _this.cropToCanvas = function (image, canvas, ctx) {\n      var naturalWidth = image.videoWidth;\n      var naturalHeight = image.videoHeight; // canvas.width = image.width;\n      // canvas.height = image.height;\n\n      ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n      ctx.fillStyle = \"#000000\";\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      var ratio = Math.min(canvas.width / image.videoWidth, canvas.height / image.videoHeight);\n      var newWidth = Math.round(naturalWidth * ratio);\n      var newHeight = Math.round(naturalHeight * ratio);\n      ctx.drawImage(_this.videoRef.current, 0, 0, naturalWidth, naturalHeight, (canvas.width - newWidth) / 2, (canvas.height - newHeight) / 2, newWidth, newHeight);\n    };\n\n    _this.onImageChange = function () {\n      var canvas = _this.canvasRef.current;\n      var ctx = canvas.getContext(\"2d\");\n      ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height); // this.cropToCanvas(this.videoRef.current, canvas, ctx);\n\n      var input = tf.tidy(function () {\n        return tf.image.resizeBilinear(tf.browser.fromPixels(_this.videoRef.current), [modelWeight, modelHeight]).div(255.0).expandDims(0);\n      });\n\n      _this.state.model.executeAsync(input).then(function (res) {\n        var detectiondata = {\n          detection: [],\n          timestamp: \"\"\n        }; // Font options.\n\n        var font = \"16px sans-serif\";\n        ctx.font = font;\n        ctx.textBaseline = \"top\";\n\n        var _res = _slicedToArray(res, 4),\n            boxes = _res[0],\n            scores = _res[1],\n            classes = _res[2],\n            valid_detections = _res[3];\n\n        var boxes_data = boxes.dataSync();\n        var scores_data = scores.dataSync();\n        var classes_data = classes.dataSync();\n        var valid_detections_data = valid_detections.dataSync()[0];\n        tf.dispose(res);\n        tf.dispose(input);\n        var i;\n\n        for (i = 0; i < valid_detections_data; ++i) {\n          var _boxes_data$slice = boxes_data.slice(i * 4, (i + 1) * 4),\n              _boxes_data$slice2 = _slicedToArray(_boxes_data$slice, 4),\n              x1 = _boxes_data$slice2[0],\n              y1 = _boxes_data$slice2[1],\n              x2 = _boxes_data$slice2[2],\n              y2 = _boxes_data$slice2[3];\n\n          x1 *= canvas.width;\n          x2 *= canvas.width;\n          y1 *= canvas.height;\n          y2 *= canvas.height;\n          var width = x2 - x1;\n          var height = y2 - y1;\n          var klass = names[classes_data[i]];\n          var score = scores_data[i].toFixed(2); // Draw the bounding box.\n\n          ctx.strokeStyle = \"#00FFFF\";\n          ctx.lineWidth = 4;\n          ctx.strokeRect(x1, y1, width, height); //console.log('x1',x1)\n          // Draw the label background.\n\n          ctx.fillStyle = \"#00FFFF\";\n          var textWidth = ctx.measureText(klass + \":\" + score).width;\n          var textHeight = parseInt(font, 10); // base 10\n\n          ctx.fillRect(x1, y1, textWidth + 4, textHeight + 4);\n        }\n\n        for (i = 0; i < valid_detections_data; ++i) {\n          var _boxes_data$slice3 = boxes_data.slice(i * 4, (i + 1) * 4),\n              _boxes_data$slice4 = _slicedToArray(_boxes_data$slice3, 3),\n              _x = _boxes_data$slice4[0],\n              _y = _boxes_data$slice4[1];\n\n          _x *= canvas.width;\n          _y *= canvas.height;\n          var _klass = names[classes_data[i]];\n\n          var _score = scores_data[i].toFixed(2); //console.log('klass ',klass, ', score', score)\n\n\n          detectiondata.detection.push({\n            \"class\": _klass,\n            \"score\": _score\n          }); // Draw the text last to ensure it's on top.\n\n          ctx.fillStyle = \"#000000\";\n          ctx.fillText(_klass + \":\" + _score, _x, _y);\n        }\n\n        detectiondata.timestamp = Date.now();\n\n        if (detectiondata.detection && detectiondata.detection.length > 0) {\n          _this.pushToDynamodb(detectiondata);\n        } // this.onImageChange()\n        // console.log(score)\n\n      });\n    };\n\n    _this.state = {\n      model: null,\n      preview: \"\",\n      userid: \"\",\n      proctorid: \"21\",\n      examid: \"\",\n      predictions: []\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleuserChange = _this.handleuserChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleExamChange = _this.handleExamChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleproctorChange = _this.handleproctorChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"startcamera\",\n    value: function startcamera() {\n      var _this2 = this;\n\n      if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n        var webCamPromise = navigator.mediaDevices.getUserMedia({\n          audio: false,\n          video: {\n            facingMode: \"user\"\n          }\n        }).then(function (stream) {\n          window.stream = stream;\n          _this2.videoRef.current.srcObject = stream;\n          return new Promise(function (resolve, reject) {\n            _this2.videoRef.current.onloadedmetadata = function () {\n              resolve();\n            };\n          });\n        });\n        var modelPromise = tf.loadGraphModel(weights).then(function (model) {\n          _this2.setState({\n            model: model\n          });\n\n          console.log(\"model ready......\", model);\n          return _this2.state.model;\n        });\n        Promise.all([modelPromise, webCamPromise]).then(function (values) {\n          // this.detectFrame(this.videoRef.current, values[0]);\n          _this2.checkwithVideo();\n        }).catch(function (error) {\n          console.error(error);\n        });\n      }\n    }\n  }, {\n    key: \"handleuserChange\",\n    value: function handleuserChange(event) {\n      this.setState({\n        userid: event.target.value\n      });\n    }\n  }, {\n    key: \"handleExamChange\",\n    value: function handleExamChange(event) {\n      this.setState({\n        examid: event.target.value\n      });\n    }\n  }, {\n    key: \"handleproctorChange\",\n    value: function handleproctorChange(event) {\n      this.setState({\n        proctorid: event.target.value\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      event.preventDefault();\n\n      if (this.state.userid !== \"\" && this.state.examid !== \"\" && this.state.proctorid !== \"\") {\n        this.startcamera();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        class: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"row border border-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-sm-3  bor \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"form-outline mar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        for: \"candiadteID\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 17\n        }\n      }, \"Enter CandidateId:\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        id: \"candiadateId\",\n        value: this.state.userid,\n        placeholder: \"enter candidateId\",\n        onChange: this.handleuserChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        for: \"examID\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 17\n        }\n      }, \"Enter ExamID:\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        value: this.state.examid,\n        onChange: this.handleExamChange,\n        placeholder: \"enter examID\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        for: \"examID\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 17\n        }\n      }, \"Enter ProctorID:\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        value: this.state.proctorid,\n        onChange: this.handleproctorChange,\n        placeholder: \"enter proctorID\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-sm-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"video\", {\n        className: \"size\",\n        autoPlay: true,\n        style: {\n          visibility: ''\n        },\n        muted: true,\n        ref: this.videoRef,\n        width: \"640\",\n        height: \"640\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-sm-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"canvas\", {\n        className: \"size\",\n        ref: this.canvasRef,\n        style: {\n          visibility: 'hidden'\n        },\n        width: \"600\",\n        height: \"500\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 13\n        }\n      }))));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nvar rootElement = document.getElementById(\"root\");\nReactDOM.render( /*#__PURE__*/React.createElement(App, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 270,\n    columnNumber: 17\n  }\n}), rootElement);","map":{"version":3,"sources":["D:/projects/object-detection/src/index.js"],"names":["React","ReactDOM","axios","tf","require","weights","headers","names","modelWeight","modelHeight","App","props","videoRef","createRef","canvasRef","state","model","preview","userid","proctorid","examid","predictions","pushToDynamodb","predict","test","timestamp","JSON","stringify","post","then","response","catch","err","checkwithVideo","videointerval","undefined","setInterval","onImageChange","cropToCanvas","image","canvas","ctx","naturalWidth","videoWidth","naturalHeight","videoHeight","clearRect","width","height","fillStyle","fillRect","ratio","Math","min","newWidth","round","newHeight","drawImage","current","getContext","input","tidy","resizeBilinear","browser","fromPixels","div","expandDims","executeAsync","res","detectiondata","detection","font","textBaseline","boxes","scores","classes","valid_detections","boxes_data","dataSync","scores_data","classes_data","valid_detections_data","dispose","i","slice","x1","y1","x2","y2","klass","score","toFixed","strokeStyle","lineWidth","strokeRect","textWidth","measureText","textHeight","parseInt","push","fillText","Date","now","length","handleSubmit","bind","handleuserChange","handleExamChange","handleproctorChange","navigator","mediaDevices","getUserMedia","webCamPromise","audio","video","facingMode","stream","window","srcObject","Promise","resolve","reject","onloadedmetadata","modelPromise","loadGraphModel","setState","console","log","all","values","error","event","target","value","preventDefault","startcamera","visibility","Component","rootElement","document","getElementById","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport axios from 'axios';\n// import * as mdb from 'mdb-ui-kit'; // lib\n// import { Input } from 'mdb-ui-kit'; // module\n\n// import MagicDropzone from \"react-magic-dropzone\";\nimport \"./styles.css\";\nconst tf = require('@tensorflow/tfjs');\nconst weights = '/web_model_old/model.json';\nconst headers = {\n  'Content-Type': 'application/json'\n}\nconst names = ['Calculator', 'Cup', 'Ear_Piece', 'GoogleGlass', 'Head_Phone', 'Laptop',\n  'MobilePhone', 'Notebook', 'Pen', 'Smart_watch', 'Spec', 'SunGlass'\n]\nconst [modelWeight, modelHeight] = [640, 640];\nclass App extends React.Component {\n  videoRef = React.createRef();\n  canvasRef = React.createRef();\n  state = {\n    model: null,\n    preview: \"\",\n    userid: \"\",\n    proctorid: \"21\",\n    examid: \"\",\n    predictions: []\n  };\n  componentDidMount() {\n  }\n  constructor(props) {\n    super(props)\n    this.state = {\n      model: null,\n      preview: \"\",\n      userid: \"\",\n      proctorid: \"21\",\n      examid: \"\",\n      predictions: []\n    };\n    this.handleSubmit = this.handleSubmit.bind(this)\n    this.handleuserChange = this.handleuserChange.bind(this)\n    this.handleExamChange = this.handleExamChange.bind(this)\n    this.handleproctorChange = this.handleproctorChange.bind(this)\n  }\n\n  startcamera() {\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n      const webCamPromise = navigator.mediaDevices\n        .getUserMedia({\n          audio: false,\n          video: {\n            facingMode: \"user\"\n          }\n        })\n        .then(stream => {\n          window.stream = stream;\n          this.videoRef.current.srcObject = stream;\n          return new Promise((resolve, reject) => {\n            this.videoRef.current.onloadedmetadata = () => {\n              resolve();\n            };\n          });\n        });\n\n      const modelPromise = tf.loadGraphModel(weights).then(model => {\n        this.setState({\n          model: model\n        });\n        console.log(\"model ready......\", model)\n        return this.state.model;\n      });\n      Promise.all([modelPromise, webCamPromise])\n        .then(values => {\n          // this.detectFrame(this.videoRef.current, values[0]);\n          this.checkwithVideo()\n        })\n        .catch(error => {\n          console.error(error);\n        });\n    }\n  }\n  pushToDynamodb = (predict) => {\n    let test = {\n      \"id\": `${this.state.userid}_${this.state.examid}`,\n      \"eid\": this.state.examid,\n      \"cid\": this.state.userid,\n      \"ts\": predict.timestamp,\n      \"pid\": this.state.proctorid,\n      \"predict\": JSON.stringify(predict)\n    }\n    axios.post('https://sh3x2x9en3.execute-api.us-east-1.amazonaws.com/test/', test, { headers: headers })\n      .then(response => {\n        //console.log(response)\n      }).catch(err => {\n        //console.log(err)\n      })\n  }\n\n  checkwithVideo = () => {\n    let videointerval;\n    if (videointerval === undefined) {\n      videointerval = setInterval(() => {\n        this.onImageChange()\n      }, 100)\n    }\n  };\n\n  cropToCanvas = (image, canvas, ctx) => {\n    const naturalWidth = image.videoWidth;\n    const naturalHeight = image.videoHeight;\n    // canvas.width = image.width;\n    // canvas.height = image.height;\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    ctx.fillStyle = \"#000000\";\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    const ratio = Math.min(canvas.width / image.videoWidth, canvas.height / image.videoHeight);\n    const newWidth = Math.round(naturalWidth * ratio);\n    const newHeight = Math.round(naturalHeight * ratio);\n    ctx.drawImage(this.videoRef.current, 0, 0, naturalWidth, naturalHeight, (canvas.width - newWidth) / 2, (canvas.height - newHeight) / 2, newWidth, newHeight,);\n  };\n\n  onImageChange = () => {\n    const canvas = this.canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    // this.cropToCanvas(this.videoRef.current, canvas, ctx);\n    const input = tf.tidy(() => {\n      return tf.image.resizeBilinear(tf.browser.fromPixels(this.videoRef.current), [modelWeight, modelHeight])\n        .div(255.0).expandDims(0);\n    });\n    this.state.model.executeAsync(input).then(res => {\n      let detectiondata = {\n        detection: [],\n        timestamp: \"\"\n      };\n      // Font options.\n      const font = \"16px sans-serif\";\n      ctx.font = font;\n      ctx.textBaseline = \"top\";\n      const [boxes, scores, classes, valid_detections] = res;\n      const boxes_data = boxes.dataSync();\n      const scores_data = scores.dataSync();\n      const classes_data = classes.dataSync();\n      const valid_detections_data = valid_detections.dataSync()[0];\n      tf.dispose(res)\n      tf.dispose(input)\n\n\n\n      var i;\n      for (i = 0; i < valid_detections_data; ++i) {\n        let [x1, y1, x2, y2] = boxes_data.slice(i * 4, (i + 1) * 4);\n        x1 *= canvas.width;\n        x2 *= canvas.width;\n        y1 *= canvas.height;\n        y2 *= canvas.height;\n        const width = x2 - x1;\n        const height = y2 - y1;\n        const klass = names[classes_data[i]];\n        const score = scores_data[i].toFixed(2);\n        // Draw the bounding box.\n        ctx.strokeStyle = \"#00FFFF\";\n        ctx.lineWidth = 4;\n        ctx.strokeRect(x1, y1, width, height);\n        //console.log('x1',x1)\n        // Draw the label background.\n        ctx.fillStyle = \"#00FFFF\";\n        const textWidth = ctx.measureText(klass + \":\" + score).width;\n        const textHeight = parseInt(font, 10); // base 10\n        ctx.fillRect(x1, y1, textWidth + 4, textHeight + 4);\n      }\n      for (i = 0; i < valid_detections_data; ++i) {\n        let [x1, y1, ,] = boxes_data.slice(i * 4, (i + 1) * 4);\n        x1 *= canvas.width;\n        y1 *= canvas.height;\n        const klass = names[classes_data[i]];\n        const score = scores_data[i].toFixed(2);\n        //console.log('klass ',klass, ', score', score)\n        detectiondata.detection.push({ \"class\": klass, \"score\": score })\n        // Draw the text last to ensure it's on top.\n        ctx.fillStyle = \"#000000\";\n        ctx.fillText(klass + \":\" + score, x1, y1);\n      }\n      detectiondata.timestamp = Date.now()\n      if (detectiondata.detection && detectiondata.detection.length > 0) {\n        this.pushToDynamodb(detectiondata)\n      }\n      // this.onImageChange()\n      // console.log(score)\n    });\n  };\n\n  handleuserChange(event) {\n    this.setState({\n      userid: event.target.value\n    })\n  }\n\n  handleExamChange(event) {\n    this.setState({\n      examid: event.target.value\n    })\n  }\n\n  handleproctorChange(event) {\n    this.setState({\n      proctorid: event.target.value\n    })\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    if (this.state.userid !== \"\" && this.state.examid !== \"\" && this.state.proctorid !== \"\") {\n      this.startcamera()\n    }\n  }\n\n  render() {\n    return (\n\n      <div class=\"container\">\n        <div class=\"row border border-primary\">\n          <div class=\"col-sm-3  bor \">\n            <form onSubmit={this.handleSubmit}>\n              <div class=\"form-outline mar\">\n                <label for=\"candiadteID\">Enter CandidateId:</label>\n                <input type=\"text\" class='form-control' id='candiadateId' value={this.state.userid} placeholder=\"enter candidateId\" onChange={this.handleuserChange} />\n              </div>\n              <div class=\"form-group\">\n                <label for=\"examID\">Enter ExamID:</label>\n                <input type=\"text\" class='form-control' value={this.state.examid} onChange={this.handleExamChange} placeholder='enter examID' />\n              </div>\n              <div class=\"form-group\">\n                <label for=\"examID\">Enter ProctorID:</label>\n                <input type=\"text\" class='form-control' value={this.state.proctorid} onChange={this.handleproctorChange} placeholder='enter proctorID' />\n              </div>\n              <input type=\"submit\" value=\"Submit\" />\n\n            </form>\n          </div>\n          <div class=\"col-sm-6\">\n            <video\n              className=\"size\"\n              autoPlay\n              style={{ visibility: '' }}\n              muted\n              ref={this.videoRef\n              }\n              width=\"640\"\n              height=\"640\"\n            />\n\n          </div>\n          <div class=\"col-sm-3\">\n            <canvas\n              className=\"size\"\n              ref={this.canvasRef}\n              style={{ visibility: 'hidden' }}\n              width=\"600\"\n              height=\"500\"\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);"]},"metadata":{},"sourceType":"module"}